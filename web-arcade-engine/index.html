<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Web Arcade Engine</title>
  <link rel="stylesheet" href="./src/ui/theme.css" />
</head>
<body>
  <canvas id="game"></canvas>
  <script type="module">
    import { buildMenu } from './src/ui/menu.js';
    import { Engine } from './src/core/engine.js';
    import { Input } from './src/core/input.js';

    const games = [
      { id: 'snake', name: 'Snake' },
      { id: 'minesweeper', name: 'Minesweeper' },
      { id: 'tetris', name: 'Tetris' },
      { id: '2048', name: '2048' },
      { id: 'breakout', name: 'Breakout' },
      { id: 'pong', name: 'Pong' },
      { id: 'asteroids', name: 'Asteroids' },
      { id: 'roulette', name: 'Roulette' },
      { id: 'baccarat', name: 'Baccarat' }
    ];

    buildMenu(games).then(selected => {
      console.log('Launch game:', selected);
      const engine = new Engine({
        update() {},
        render(ctx) {
          ctx.fillStyle = '#0f0';
          ctx.font = '24px Courier New';
          ctx.fillText(`Launching ${selected}...`, 50, 50);
        },
        onInit() {
          const canvas = document.getElementById('game');
          Input.init(canvas);
        }
      });
      engine.attachCanvas('game');
      engine.start();
    });
  </script>
</body>
</html>
